<% provide(:title, 'Edit Profile') %>
<% provide(:button_text, 'Update') %>

<div class="centered registration">
  <%= render "users/shared/error_messages", resource: resource %>
  
  <h2>Edit <%= resource_name.to_s.humanize %></h2>

  <% if resource.provider == 'facebook' %>
    <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
      <div class="field form-group">
        <%= f.label :name, for: "inputName" %>
        <%= f.text_field :name, autofocus: true, autocomplete: "name", disabled: true, class: 'w-100 form-control', id: "inputName" %>
      </div>
  
      <div class="field form-group">
        <%= f.label :email, for: "inputEmail" %>
        <%= f.email_field :email, autocomplete: "email", disabled: true, class: 'w-100 form-control', id: "inputEmail" %>
      </div>

      <div class="actions text-center mb-1">
        <%= f.submit yield(:button_text), disabled: true, class: "btn button blue-button btn-block mt-3 mb-1" %>
        <small>
          You've used Facebook to sign in. 
          <%= link_to "Go to Facebook<i class='material-icons'> open_in_new </i> to edit your details,".html_safe, "https://www.facebook.com/", target: :_blank %>
          or 
          <%= link_to "contact support", "mailto:giuliana.ferraro.dev@gmail.com", target: :_blank %>.
        </small>
      </div>
    <% end %>
  <% else %>
    <%= render 'users/shared/registration_form' %>
  <% end %>

  <h3 class="mt-5">Cancel Account</h3>

  <p>Unhappy with A Social Network? <%= button_to "Cancel Account", registration_path(resource_name), data: { confirm: "Are you sure?" }, method: :delete, class: 'btn button btn-outline-danger' %></p>

  <%= link_to "Back", :back %>
</div>